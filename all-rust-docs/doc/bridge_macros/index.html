<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="TODO PC MACROS crate wish list"><title>bridge_macros - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-1a91846b.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="bridge_macros" data-themes="" data-resource-suffix="" data-rustdoc-version="1.88.0 (6b00bc388 2025-06-23)" data-channel="1.88.0" data-search-js="search-f7877310.js" data-settings-js="settings-5514c975.js" ><script src="../static.files/storage-4e99c027.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-7ef8a74a.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../bridge_macros/index.html">bridge_<wbr>macros</a><span class="version">0.11.1</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section id="rustdoc-toc"><h3><a href="#attributes">Crate Items</a></h3><ul class="block"><li><a href="#attributes" title="Attribute Macros">Attribute Macros</a></li></ul></section><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Crate <span>bridge_macros</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/bridge_macros/lib.rs.html#1-1982">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>TODO PC MACROS crate wish list</p>
<ol>
<li>The macro should fail if the structure of the docs is not as expected. e.g. Type/Namespace/…/Usage/Example/</li>
<li>type aliasing, need a gensym type macro so I do not conflict with names.</li>
<li>trybuild tests!</li>
<li>worry about inlining, e.g. are the mechanisms in place to do the type conversions constant time,
and inlined? or is there a way to make them so?</li>
<li>can yet another crate solve the problem of housing typehandle/passingstyle/param/errorstrings/typedwrapper in the same place?</li>
<li>EVERY macro doesn’t need the check for VarArgs, only signatures that have
VarArgs, this can be addressed in the macro.</li>
<li>Port tuple tests: <a href="https://github.com/sl-sh-dev/sl-sh/blob/83cd1c93d1eea726ba138a83610155bdbfcab7aa/src/builtins_types.rs#L628">https://github.com/sl-sh-dev/sl-sh/blob/83cd1c93d1eea726ba138a83610155bdbfcab7aa/src/builtins_types.rs#L628</a></li>
<li>To avoid needing to do lifetimes, if the return value is one of the INPUT values have
that marked in the annotation… OTHERWISE data may be copied!
OR allow for simple lifetimes?</li>
<li>VMError should not be new_vm</li>
<li>Optional duplicates code. With the ownership model from SlFromRef, being <em>the</em> primary mechanism
for crossing the boundary, it’s possible having Some and None blocks multiple times is not necessary.</li>
<li>Support for slices? to avoid Vec allocation? Is it a big deal to only be able to accept Vec?
The decision should at least be documented.</li>
<li>SINCE WHEN is it a requirement like that it <em>has</em> to return VMResult or Option</li>
</ol>
</div></details><h2 id="attributes" class="section-header">Attribute Macros<a href="#attributes" class="anchor">§</a></h2><dl class="item-table"><dt><a class="attr" href="attr.sl_sh_fn.html" title="attr bridge_macros::sl_sh_fn">sl_<wbr>sh_<wbr>fn</a></dt><dd>macro that creates a bridge between rust native code and sl-sh code. Specify the lisp
function name to be interned with the “fn_name” attribute. This macro outputs
a function with a slosh compatible signature as well as a helper intern function
to be called with the environment to add the function.</dd></dl></section></div></main></body></html>
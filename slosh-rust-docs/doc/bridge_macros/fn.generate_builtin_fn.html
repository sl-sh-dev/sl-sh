<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="write the builtin_ version of the provided function. This function is the function that makes a direct call to the original rust native function to which the macro was applied. To accomplish this the builtin_ function generates takes some number of ArgType structs (the wrapper enum that enables passing optional and varargs). the body of the function handles unwrapping the ArgType variables and then unwrapping the Expressions those contain into the proper rust native function. The process is done in a for loop but it recursively builds the body of builtin_ by passing around a token stream."><title>generate_builtin_fn in bridge_macros - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-84e720fa.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="bridge_macros" data-themes="" data-resource-suffix="" data-rustdoc-version="1.89.0 (29483883e 2025-08-04)" data-channel="1.89.0" data-search-js="search-92309212.js" data-settings-js="settings-5514c975.js" ><script src="../static.files/storage-4e99c027.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-fd3af306.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-32bb7600.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../bridge_macros/index.html">bridge_<wbr>macros</a><span class="version">0.11.1</span></h2></div><div class="sidebar-elems"><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="index.html">bridge_macros</a></div><h1>Function <span class="fn">generate_builtin_fn</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/bridge_macros/lib.rs.html#1070-1145">Source</a> </span></div><pre class="rust item-decl"><code>pub(crate) fn generate_builtin_fn(
    original_item_fn: &amp;<a class="struct" href="https://docs.rs/syn/1.0.109/syn/item/struct.ItemFn.html" title="struct syn::item::ItemFn">ItemFn</a>,
    original_fn_name_str: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.89.0/std/primitive.str.html">str</a>,
    fn_name: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.89.0/std/primitive.str.html">str</a>,
    params: &amp;[Param],
    fn_name_ident: &amp;<a class="struct" href="https://docs.rs/proc-macro2/1.0.92/proc_macro2/struct.Ident.html" title="struct proc_macro2::Ident">Ident</a>,
    takes_env: <a class="primitive" href="https://doc.rust-lang.org/1.89.0/std/primitive.bool.html">bool</a>,
    inline: <a class="primitive" href="https://doc.rust-lang.org/1.89.0/std/primitive.bool.html">bool</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.89.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="type" href="https://docs.rs/quote/1.0.37/quote/__private/type.TokenStream.html" title="type quote::__private::TokenStream">TokenStream</a>, <a class="struct" href="https://docs.rs/syn/1.0.109/syn/error/struct.Error.html" title="struct syn::error::Error">Error</a>&gt;</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>write the builtin_ version of the provided function. This function is the function that makes
a direct call to the original rust native function to which the macro was applied. To accomplish
this the builtin_ function generates takes some number of ArgType structs (the wrapper enum that
enables passing optional and varargs). the body of the function handles unwrapping the ArgType
variables and then unwrapping the Expressions those contain into the proper rust native
function. The process is done in a for loop but it recursively builds the body of builtin_
by passing around a token stream.</p>
<p>The token stream is initialized with code to call to the original rust native function with
pre-generated names for each of the arguments, e.g. <code>my_rust_native_function(arg_0, arg_1);</code>.
Each subsequent iteration of the loop takes the previous token stream returned by the loop and
uses that as itâ€™s innermost scope. Thus the original function call is at the core of a series
of scopes that create all the necessary arguments with the proper types that were specified on
initialization. For a function of one argument that means the code would look something like:</p>
</div></details></section></div></main></body></html>